---
# Template for Longhorn R2 backup credentials secret
#
# Get your R2 credentials from Cloudflare dashboard:
# 1. Go to R2 > Manage R2 API Tokens
# 2. Create an API token with Object Read & Write permissions
# 3. Copy the Access Key ID and Secret Access Key
#
# To seal this secret:
# kubeseal --controller-name=sealed-secrets --controller-namespace=sealed-secrets --format yaml < longhorn-r2-backup.template.yaml > ../sealed-secrets/sealed-secret-longhorn-r2-backup.yaml
apiVersion: v1
kind: Secret
metadata:
  name: longhorn-r2-backup-credentials
  namespace: longhorn-system
type: Opaque
stringData:
  # Cloudflare R2 Access Key ID
  AWS_ACCESS_KEY_ID: "your-r2-access-key-id"
  # Cloudflare R2 Secret Access Key
  AWS_SECRET_ACCESS_KEY: "your-r2-secret-access-key"
  # R2 endpoint URL (replace <ACCOUNT_ID> with your Cloudflare account ID)
  AWS_ENDPOINTS:
    "https://<ACCOUNT_ID>.r2.cloudflarestorage.com"
    # Required for R2 - use path style access
  VIRTUAL_HOSTED_STYLE: "false"
