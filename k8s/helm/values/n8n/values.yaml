# n8n Helm values
# Using Longhorn for persistent storage

# Timezone
timezone: "Asia/Kolkata"

# Use existing secret for encryption key
existingEncryptionKeySecret: n8n-secrets

# Main n8n configuration
main:
  # Editor URL for OAuth callbacks
  editorBaseUrl: "https://n8n.zaman.lol"

  # Extra environment variables for webhook URL
  extraEnvVars:
    WEBHOOK_URL: "https://n8n.zaman.lol/"
    N8N_PROTOCOL: "https"
    N8N_HOST: "n8n.zaman.lol"

  persistence:
    enabled: true
    storageClass: longhorn
    size: 2Gi
    accessMode: ReadWriteOnce

# Resource allocation
resources:
  requests:
    memory: 256Mi
    cpu: 100m
  limits:
    memory: 512Mi
    cpu: 500m

# Ingress disabled - we'll use Traefik IngressRoute
ingress:
  enabled: false

# DNS configuration to resolve external domains
dnsConfig:
  nameservers:
    - 8.8.8.8
    - 1.1.1.1
  options:
    - name: ndots
      value: "1"

# Disable built-in databases - use external if needed later
postgresql:
  enabled: false

redis:
  enabled: false
